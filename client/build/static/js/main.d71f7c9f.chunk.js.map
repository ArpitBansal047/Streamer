{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createHistory","require","createBrowserHistory","fetchStream","id","dispatch","a","streams","get","response","type","payload","data","StreamForm","renderInput","input","label","meta","className","error","touched","autoComplete","renderError","onSubmit","formValues","props","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","connect","getState","post","history","push","StreamEdit","editStream","match","params","stream","initialValues","_","pick","state","ownProps","patch","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","Fragment","deleteStream","to","renderContent","renderActions","delete","StreamList","fetchStreams","userId","currentUserId","map","key","renderAdmin","isSignedIn","style","textAlign","renderList","renderCreate","Object","values","auth","StreamShow","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","App","path","exact","INTIAL_STATE","combineReducers","action","formReducer","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.d71f7c9f.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n    baseURL: 'http://localhost:3001'\n})","const createHistory = require(\"history\").createBrowserHistory\nexport default createHistory();","import streams from '../apis/streams';\nimport history from '../history';\nimport { SIGN_IN,\n   SIGN_OUT,\n   CREATE_STREAM,\n   FETCH_STREAMS,\n   FETCH_STREAM,\n   DELETE_STREAM,\n   EDIT_STREAM } from './types';\n\nexport const signIn = userId => {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\n\nexport const createStream = formValues => async (dispatch,getState) => {\n  // const { userId } = getState().auth;\n  const response =  await streams.post('/streams',{ ...formValues});\n  dispatch({type:CREATE_STREAM , payload:response.data})\n  history.push('/');\n\n}\n\nexport const fetchStreams = () => async dispatch => {\n  const response =  await streams.get('/streams');\n  dispatch({type:FETCH_STREAMS , payload:response.data})\n\n}\n\nexport const fetchStream = (id) => async dispatch => {\n  const response =  await streams.get(`/streams/${id}`);\n  dispatch({type:FETCH_STREAM , payload:response.data});\n};\n\nexport const editStream = (id,formValues) => async dispatch => {\n  const response =  await streams.patch(`/streams/${id}`,formValues);\n  dispatch({type:EDIT_STREAM , payload:response.data});\n  history.push('/');\n};\n\nexport const deleteStream = (id) => async dispatch => {\n await streams.delete(`/streams/${id}`);\n  dispatch({type:DELETE_STREAM , payload:id});\n  history.push('/');\n};\n","export const SIGN_IN = 'SIGN_IN';\nexport const SIGN_OUT = 'SIGN_OUT';\nexport const CREATE_STREAM = 'CREATE_STREAM';\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\nexport const FETCH_STREAM = 'FETCH_STREAM';\nexport const DELETE_STREAM = 'DELETE_STREAM';\nexport const EDIT_STREAM = 'EDIT_STREAM';\n","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\n\nclass StreamForm extends React.Component {\n  renderError({ error, touched }) {\n    if (touched && error) {\n      return (\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      );\n    }\n  }\n\n  renderInput = ({ input, label, meta }) => {\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`;\n    return (\n      <div className={className}>\n        <label>{label}</label>\n        <input {...input} autoComplete=\"off\" />\n        {this.renderError(meta)}\n      </div>\n    );\n  };\n\n  onSubmit = formValues => {\n    this.props.onSubmit(formValues);\n  };\n\n  render() {\n    return (\n      <form\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\n        className=\"ui form error\"\n      >\n        <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\n        <Field\n          name=\"description\"\n          component={this.renderInput}\n          label=\"Enter Description\"\n        />\n        <button className=\"ui button primary\">Submit</button>\n      </form>\n    );\n  }\n}\n\nconst validate = formValues => {\n  const errors = {};\n\n  if (!formValues.title) {\n    errors.title = 'You must enter a title';\n  }\n\n  if (!formValues.description) {\n    errors.description = 'You must enter a description';\n  }\n\n  return errors;\n};\n\nexport default reduxForm({\n  form: 'streamForm',\n  validate\n})(StreamForm);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { createStream } from '../../actions';\nimport StreamForm from './StreamForm';\n\nclass StreamCreate extends React.Component {\n  onSubmit = formValues => {\n    this.props.createStream(formValues);\n  };\n\n  render() {\n    return (\n      <div>\n        <h3>Create a Stream</h3>\n        <StreamForm onSubmit={this.onSubmit} />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { createStream }\n)(StreamCreate);\n","import _ from 'lodash';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchStream, editStream } from '../../actions';\nimport StreamForm from './StreamForm';\n\nclass StreamEdit extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onSubmit = formValues => {\n    this.props.editStream(this.props.match.params.id, formValues);\n  };\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>;\n    }\n\n    return (\n      <div>\n        <h3>Edit a Stream</h3>\n        <StreamForm\n          initialValues={_.pick(this.props.stream, 'title', 'description')}\n          onSubmit={this.onSubmit}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream, editStream }\n)(StreamEdit);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Modal = props => {\n  return ReactDOM.createPortal(\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\n      <div\n        onClick={e => e.stopPropagation()}\n        className=\"ui standard modal visible active\"\n      >\n        <div className=\"header\">{props.title}</div>\n        <div className=\"content\">{props.content}</div>\n        <div className=\"actions\">{props.actions}</div>\n      </div>\n    </div>,\n    document.querySelector('#modal')\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Modal from '../Modal';\nimport history from '../../history';\nimport { fetchStream, deleteStream } from '../../actions';\n\nclass StreamDelete extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  renderActions() {\n    const { id } = this.props.match.params;\n\n    return (\n      <React.Fragment>\n        <button\n          onClick={() => this.props.deleteStream(id)}\n          className=\"ui button negative\"\n        >\n          Delete\n        </button>\n        <Link to=\"/\" className=\"ui button\">\n          Cancel\n        </Link>\n      </React.Fragment>\n    );\n  }\n\n  renderContent() {\n    if (!this.props.stream) {\n      return 'Are you sure you want to delete this stream?';\n    }\n\n    return `Are you sure you want to delete the stream with title: ${\n      this.props.stream.title\n    }`;\n  }\n\n  render() {\n    return (\n      <Modal\n        title=\"Delete Stream\"\n        content={this.renderContent()}\n        actions={this.renderActions()}\n        onDismiss={() => history.push('/')}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream, deleteStream }\n)(StreamDelete);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchStreams } from '../../actions';\n\nclass StreamList extends React.Component{\n   componentDidMount(){\n     this.props.fetchStreams();\n   }\n\n   renderAdmin(stream){\n     if( stream.userId === this.props.currentUserId ){\n       return (\n         <div className=\"right floated content\">\n           <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">\n             EDIT\n           </Link>\n           <Link to={`/streams/delete/${stream.id}`}className=\"ui button negative\">\n             DELETE\n           </Link>\n         </div>\n       )\n     }\n   }\n\n   renderList(){\n     return this.props.streams.map(stream =>{\n       return (\n         <div className=\"item\" key={stream.id}>\n           {this.renderAdmin(stream)}\n           <i className=\"large middle aligned icon camera\"></i>\n           <div className=\"content\">\n             <Link to={`/streams/${stream.id}`} className=\"header\">\n             {stream.title}\n             </Link>\n             <div className=\"description\">{stream.description}</div>\n           </div>\n         </div>\n       )\n     })\n   }\n\n   renderCreate(){\n     if(this.props.isSignedIn){\n       return (\n         <div style={{ textAlign: 'right' }}>\n           <Link to=\"streams/new\" className=\"ui button primary\">\n             CREATE STREAM\n             </Link>\n         </div>\n       );\n     }\n   }\n   render(){\n     return (\n       <div>\n         <h2>Streams</h2>\n         <div className=\"ui celled list\">{this.renderList()}</div>\n         {this.renderCreate()}\n       </div>\n     )\n   }\n}\n\nconst mapStateToProps = (state) =>{\n  return { \n    streams: Object.values(state.streams),\n    currentUserId: state.auth.userId,\n    isSignedIn: state.auth.isSignedIn\n  }\n}\n\nexport default connect(mapStateToProps,{fetchStreams})(StreamList);\n","import React from 'react';\nimport flv from 'flv.js';\nimport { connect } from 'react-redux';\nimport { fetchStream } from '../../actions';\n\nclass StreamShow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.videoRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { id } = this.props.match.params;\n\n    this.props.fetchStream(id);\n    this.buildPlayer();\n  }\n\n  componentDidUpdate() {\n    this.buildPlayer();\n  }\n\n  componentWillUnmount() {\n    this.player.destroy();\n  }\n\n  buildPlayer() {\n    if (this.player || !this.props.stream) {\n      return;\n    }\n\n    const { id } = this.props.match.params;\n    this.player = flv.createPlayer({\n      type: 'flv',\n      url: `http://localhost:8000/live/${id}.flv`\n    });\n    this.player.attachMediaElement(this.videoRef.current);\n    this.player.load();\n  }\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>;\n    }\n\n    const { title, description } = this.props.stream;\n\n    return (\n      <div>\n        <video ref={this.videoRef} style={{ width: '100%' }} controls />\n        <h1>{title}</h1>\n        <h5>{description}</h5>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream }\n)(StreamShow);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { signIn, signOut } from '../actions';\n\nclass GoogleAuth extends React.Component {\n  componentDidMount() {\n    window.gapi.load('client:auth2', () => {\n      window.gapi.client\n        .init({\n          clientId:\n            '797401886567-9cumct9mrt3v2va409rasa7fa6fq02hh.apps.googleusercontent.com',\n          scope: 'email'\n        })\n        .then(() => {\n          this.auth = window.gapi.auth2.getAuthInstance();\n\n          this.onAuthChange(this.auth.isSignedIn.get());\n          this.auth.isSignedIn.listen(this.onAuthChange);\n        });\n    });\n  }\n\n  onAuthChange = isSignedIn => {\n    if (isSignedIn) {\n      this.props.signIn(this.auth.currentUser.get().getId());\n    } else {\n      this.props.signOut();\n    }\n  };\n\n  onSignInClick = () => {\n    this.auth.signIn();\n  };\n\n  onSignOutClick = () => {\n    this.auth.signOut();\n  };\n\n  renderAuthButton() {\n    if (this.props.isSignedIn === null) {\n      return null;\n    } else if (this.props.isSignedIn) {\n      return (\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\n          <i className=\"google icon\" />\n          Sign Out\n        </button>\n      );\n    } else {\n      return (\n        <button onClick={this.onSignInClick} className=\"ui red google button\">\n          <i className=\"google icon\" />\n          Sign In with Google\n        </button>\n      );\n    }\n  }\n\n  render() {\n    return <div>{this.renderAuthButton()}</div>;\n  }\n}\n\nconst mapStateToProps = state => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(\n  mapStateToProps,\n  { signIn, signOut }\n)(GoogleAuth);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport GoogleAuth from './GoogleAuth';\n\nconst Header = () => {\n  return (\n    <div className=\"ui secondary pointing menu\">\n      <Link to=\"/\" className=\"item\">\n        Streamy\n      </Link>\n      <div className=\"right menu\">\n        <Link to=\"/\" className=\"item\">\n          All Streams\n        </Link>\n        <GoogleAuth />\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { Router, Route , Switch} from 'react-router-dom';\nimport StreamCreate from './streams/StreamCreate';\nimport StreamEdit from './streams/StreamEdit';\nimport StreamDelete from './streams/StreamDelete';\nimport StreamList from './streams/StreamList';\nimport StreamShow from './streams/StreamShow';\nimport Header from './Header';\nimport history from '../history';\n\nconst App = () => {\n  return (\n    <div className=\"ui container\">\n      <Router history={history}>\n        <div>\n          <Header />\n          <Switch>\n          <Route path=\"/\" exact component={StreamList} />\n          <Route path=\"/streams/new\" exact component={StreamCreate} />\n          <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\n          <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\n          <Route path=\"/streams/:id\" exact component={StreamShow} />\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import { SIGN_IN, SIGN_OUT } from '../actions/types';\n\nconst INTIAL_STATE = {\n  isSignedIn: null,\n  userId: null\n};\n\nexport default (state = INTIAL_STATE, action) => {\n  switch (action.type) {\n    case SIGN_IN:\n      return { ...state, isSignedIn: true, userId: action.payload };\n    case SIGN_OUT:\n      return { ...state, isSignedIn: false, userId: null };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { reducer as formReducer } from 'redux-form';\nimport authReducer from './authReducer';\nimport streamReducer from './streamReducer';\n\nexport default combineReducers({\n  auth: authReducer,\n  form: formReducer,\n  streams: streamReducer\n});\n","import _ from 'lodash'\nimport { CREATE_STREAM,\n    FETCH_STREAMS,\n    FETCH_STREAM,\n    DELETE_STREAM,\n    EDIT_STREAM } from '../actions/types'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case FETCH_STREAMS:\n       return { ...state, ..._.mapKeys(action.payload,'id') }\n    case FETCH_STREAM:\n      return { ...state, [action.payload.id]:action.payload };\n    case CREATE_STREAM:\n      return { ...state, [action.payload.id]:action.payload };\n    case EDIT_STREAM:\n      return { ...state, [action.payload.id]:action.payload };\n    case DELETE_STREAM:\n        return _.omit(state,action.payload);\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}